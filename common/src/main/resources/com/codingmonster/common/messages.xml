<?xml version="1.0" encoding="UTF-8"?>
<sbe:messageSchema
	xmlns:sbe="http://fixprotocol.io/2016/sbe"
	package="com.codingmonster.common.sbe.trade" semanticVersion="1.0.0"
	id="0" version="1">

	<!-- ========= Types ========= -->
	<types>
		<composite name="varStringEncoding">
			<type name="length" primitiveType="uint16" semanticType="Length" />
			<type name="varData" primitiveType="uint16" length="0"
				characterEncoding="UTF-8" />
		</composite>

		<!-- Composite Header -->
		<composite name="messageHeader"
			description="SBE standard message header">
			<type name="blockLength" primitiveType="uint16" />
			<type name="templateId" primitiveType="uint16" />
			<type name="schemaId" primitiveType="uint16" />
			<type name="version" primitiveType="uint16" />
		</composite>

		<!-- Composite for decimal price -->
		<composite name="Price">
			<type name="mantissa" primitiveType="int64" />
			<type name="exponent" primitiveType="int8" />
		</composite>


		<!-- Enums -->
		<enum name="Side" encodingType="uint8">
			<validValue name="Buy">0</validValue>
			<validValue name="Sell">1</validValue>
		</enum>

		<enum name="OrderType" encodingType="uint8">
			<validValue name="Market">2</validValue>
			<validValue name="Limit">3</validValue>
		</enum>

		<enum name="TimeInForce" encodingType="uint8">
			<validValue name="Day">0</validValue>        <!-- FIX 0 -->
			<validValue name="GTC">1</validValue>        <!-- FIX 1 -->
			<validValue name="IOC">3</validValue>        <!-- FIX 3 -->
			<validValue name="FOK">4</validValue>        <!-- FIX 4 -->
		</enum>

		<enum name="ExecType" encodingType="uint8">
			<validValue name="New">4</validValue>
			<validValue name="Fill">5</validValue>
			<validValue name="PartialFill">6</validValue>
			<validValue name="Cancel">7</validValue>
			<validValue name="Reject">8</validValue>
			<validValue name="Expired">9</validValue>
		</enum>

		<enum name="OrdStatus" encodingType="uint8">
			<validValue name="New">10</validValue>
			<validValue name="PartiallyFilled">11</validValue>
			<validValue name="Filled">12</validValue>
			<validValue name="Canceled">13</validValue>
			<validValue name="Rejected">14</validValue>
		</enum>
	</types>

	<!-- ========= sbe:messages ========= -->

	<sbe:message name="NewOrderSingle" id="1" blockLength="32">
		<field name="clOrdID" id="11" type="uint64" />
		<field name="side" id="54" type="Side" />
		<field name="orderQty" id="38" type="int32" />
		<field name="price" id="44" type="Price" />
		<field name="orderType" id="40" type="OrderType" />
		<field name="timeInForce" id="8" type="TimeInForce" />
		<field name="timestamp" id="9" type="uint64" />
		<data name="symbol" id="55" type="varStringEncoding" />
		<data name="senderCompID" id="49" type="varStringEncoding" />
	</sbe:message>

	<sbe:message name="OrderCancelReplaceRequest" id="2"
		blockLength="40">
		<field name="origClOrdID" id="41" type="uint64" />
		<field name="clOrdID" id="11" type="uint64" />
		<field name="orderQty" id="38" type="int32" />
		<field name="price" id="44" type="Price" />
		<field name="timeInForce" id="8" type="TimeInForce" />
		<field name="timestamp" id="9" type="uint64" />
		<data name="symbol" id="55" type="varStringEncoding" />
		<data name="senderCompID" id="49" type="varStringEncoding" />
	</sbe:message>

	<sbe:message name="OrderCancelRequest" id="3"
		blockLength="24">
		<field name="origClOrdID" id="41" type="uint64" />
		<field name="clOrdID" id="11" type="uint64" />
		<field name="timestamp" id="9" type="uint64" />
		<data name="symbol" id="55" type="varStringEncoding" />
		<data name="senderCompID" id="49" type="varStringEncoding" />
	</sbe:message>

	<sbe:message name="MarketDataRequest" id="4"
		blockLength="16">
		<field name="mdReqID" id="262" type="uint64" />
		<data name="symbol" id="55" type="varStringEncoding" />
	</sbe:message>

	<sbe:message name="MarketDataSnapshotFullRefresh" id="5"
		blockLength="34">
		<field name="mdReqID" id="262" type="uint64" />
		<field name="bidPrice" id="132" type="Price" />
		<field name="bidSize" id="134" type="int32" />
		<field name="askPrice" id="133" type="Price" />
		<field name="askSize" id="135" type="int32" />
		<data name="symbol" id="55" type="varStringEncoding" />
	</sbe:message>

	<sbe:message name="ExecutionReport" id="6" blockLength="48">
		<field name="orderID" id="37" type="uint64" /> <!-- Exchange-generated -->
		<field name="clOrdID" id="11" type="uint64" />
		<field name="execID" id="17" type="uint64" />
		<field name="side" id="54" type="Side" />
		<field name="execType" id="150" type="ExecType" />
		<field name="ordStatus" id="39" type="OrdStatus" />
		<field name="filledQty" id="32" type="int32" />
		<field name="leavesQty" id="151" type="int32" />
		<field name="price" id="44" type="Price" />
		<field name="senderCompID" id="49" type="varStringEncoding" />  <!-- Exchange -->
		<field name="targetCompID" id="56" type="varStringEncoding" />  <!-- Trader -->
	</sbe:message>

	<sbe:message name="Reject" id="7" blockLength="24">
		<field name="refSeqNum" id="45" type="uint32" />
		<data name="refMsgType" id="372" type="varStringEncoding" />
		<data name="text" id="58" type="varStringEncoding" />
	</sbe:message>

	<sbe:message name="TradeCaptureReport" id="9"
		blockLength="48">
		<field name="tradeID" id="1003" type="uint64" />
		<field name="orderID" id="37" type="uint64" />
		<field name="side" id="54" type="Side" />
		<field name="quantity" id="53" type="int32" />
		<field name="price" id="44" type="Price" />
		<field name="tradeTime" id="60" type="uint64" />
		<data name="symbol" id="55" type="varStringEncoding" />
	</sbe:message>

</sbe:messageSchema>
